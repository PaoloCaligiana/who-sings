@import "tailwindcss";

/*  Design System */
@theme {
  /* Brand Colors */
  --color-bg: #050816;
  --color-surface: #0f172a;
  --color-surface-dark: #0b1121;
  --color-primary: #f97316;
  --color-primary-soft: color-mix(in oklch, var(--color-primary) 80%, black);
  --color-secondary: rgb(255 255 255 / 0.7);
  --color-success: #22c55e;
  --color-danger: #ef4444;
  --color-muted: #6b7280;
  --color-gradient-primary: linear-gradient(90deg, #ff6b6b, #ffb347);
  --color-gradient-primary-soft: linear-gradient(90deg,
      color-mix(in oklch, #ff6b6b 70%, black),
      color-mix(in oklch, #ffb347 70%, black));
}

@layer components {

  /* --- NAVBAR LINKS --- */
  .nav-link {
    @apply text-sm md:text-base lg:text-lg font-medium text-white/90 sm:px-3 py-1.5 rounded-full transition hover:text-white hover:bg-white/10 hover:cursor-pointer;
  }

  .dropdown {
    @apply absolute right-0 mt-3 md:mt-5 w-40 md:w-44 lg:w-48 bg-surface/95 backdrop-blur-xl border border-white/20 rounded-xl shadow-2xl z-99;
  }

  .dropdown-item {
    @apply w-full flex items-center gap-2 px-3 py-2 sm:text-base md:text-lg lg:text-xl text-neutral-200 hover:bg-white/10 transition rounded-md;
  }

  .dropdown-item-active {
    @apply text-white bg-primary/40 hover:bg-primary/50;
  }

  /* --- CARD --- */
  .card {
    @apply w-full rounded-2xl p-6 sm:p-8 md:p-10 lg:p-12 bg-surface/90 backdrop-blur-xl shadow-xl;
  }

  /* --- BUTTONS --- */

  .btn-primary {
    @apply inline-flex items-center justify-center px-4 py-2 md:px-5 md:py-2.5 lg:px-6 lg:py-3 rounded-lg text-sm md:text-base font-medium transition-all duration-200 text-white border-2 border-transparent;
    background: var(--color-gradient-primary);
  }

  .btn-primary:hover {
    @apply border-white bg-primary-soft;
    cursor: pointer;
  }

  .btn-primary:active {
    @apply shadow-lg;
    background: var(--color-gradient-primary-soft);
  }

  .btn-primary:disabled {
    @apply opacity-50 border-transparent cursor-default;
    background: var(--color-gradient-primary-soft);
  }

  .btn-surface {
    @apply inline-flex items-center justify-center px-4 py-2 md:px-5 md:py-2.5 lg:px-6 lg:py-3 rounded-lg text-sm md:text-base font-medium transition-colors duration-200 text-white border-2 border-surface-dark bg-surface hover:border-primary hover:cursor-pointer;
  }

  .btn-surface:active {
    background: var(--color-gradient-primary);
  }

  .btn-surface:disabled {
    @apply opacity-50 border-transparent;
  }

  /* --- INPUT --- */
  .input {
    @apply w-full px-4 py-2 md:px-5 md:py-3 lg:px-6 lg:py-4 rounded-lg text-sm md:text-base lg:text-lg text-white bg-surface-dark border border-surface-dark transition-colors duration-150 placeholder:text-muted focus:outline-none focus:border-primary;
  }

  .input:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  .input-error {
    @apply border-danger focus:border-danger;
  }

  /* --- RADIAL BACKGROUND UTILITY --- */
  .bg-hero-radial {
    background: radial-gradient(circle at top, #ff6b6b 0, var(--color-bg) 35%, var(--color-bg) 100%);
  }

  @media (min-width: 640px) {
    .bg-hero-radial {
      background: radial-gradient(circle at top, #ff6b6b 0, var(--color-bg) 55%, var(--color-bg) 100%);
    }
  }

  /* BADGES */
  .badge-primary {
    @apply px-3 py-1 sm:py-2 rounded-full text-xs sm:text-sm bg-surface-dark text-primary border border-primary/40;
  }

  .badge-streak {
    @apply px-3 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-semibold bg-orange-500/30 text-orange-200 border border-orange-400;
  }

  /* LYRIC BOX (unchanged except relative positioning) */
  .lyric-box {
    @apply mt-2 mb-4 p-3 md:p-5 lg:p-6 rounded-xl italic text-lg md:text-xl lg:text-2xl relative overflow-hidden;
    background: var(--color-gradient-primary-soft);
  }

  /* PROGRESS FILL INSIDE LYRIC BOX */
  .lyric-progress {
    @apply absolute left-0 top-0 h-full;
    background: var(--color-gradient-primary);
    opacity: 0.9;
    /* transition: width 1s linear; */
    transition-property: width;
    transition-timing-function: linear;
    /* smooth + continuo */
  }

  /* ANSWER BUTTONS */
  .btn-answer {
    @apply w-full text-left px-4 py-2 md:px-5 md:py-2.5 lg:px-6 lg:py-3 rounded-lg text-sm md:text-base font-semibold bg-surface-dark border border-surface-dark text-white transition-all hover:bg-surface hover:cursor-pointer;
  }

  .btn-answer-correct {
    @apply w-full text-left px-4 py-2 md:px-5 md:py-2.5 lg:px-6 lg:py-3 rounded-lg text-sm md:text-base font-semibold bg-success/20 border-success/40 text-success;
  }

  .btn-answer-wrong {
    @apply w-full text-left px-4 py-2 md:px-5 md:py-2.5 lg:px-6 lg:py-3 rounded-lg text-sm md:text-base font-semibold bg-danger/20 border-danger/40 text-danger;
  }

  /* Chip */
  .chip {
    @apply inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm border transition;
  }

  .chip-filled {
    @apply bg-success/20 border-success/40 text-success;
  }

  .chip-outlined {
    @apply border-white/20 text-white/80;
  }

  /* Divider */
  .divider {
    @apply w-full h-[1px] bg-white/10 my-2;
  }

  /* Music Loading Animation */
  .music-loader {
    @apply flex items-end gap-1 h-12 sm:h-16 lg:h-20;
  }

  .music-bar {
    @apply w-1.5 sm:w-2 lg:w-3 rounded-full;
    background: var(--color-gradient-primary);
    animation: music-bounce 0.8s ease-in-out infinite;
  }

  .m.music-bar:nth-child(1) {
    animation-delay: 0s;
  }

  .music-bar:nth-child(2) {
    animation-delay: 0.1s;
  }

  .music-bar:nth-child(3) {
    animation-delay: 0.2s;
  }

  .music-bar:nth-child(4) {
    animation-delay: 0.3s;
  }

  .music-bar:nth-child(5) {
    animation-delay: 0.2s;
  }

  .music-bar:nth-child(6) {
    animation-delay: 0.1s;
  }

  @keyframes music-bounce {

    0%,
    100% {
      height: 20%;
    }

    50% {
      height: 100%;
    }
  }

  /* --- LANGUAGE SWITCHER TRIGGER (style navbar-like) --- */
  .lang-trigger {
    @apply inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium text-white/90 transition hover:text-white hover:bg-white/10 border border-white/10;
  }
}